<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå§Ô∏è Weather API</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-cloud-sun"></i>
                <h1>Weather API</h1>
            </div>
            <p class="subtitle">–ü—Ä–æ—Å—Ç–æ–µ REST API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–≥–æ–¥–µ</p>
        </header>

        <section class="quick-start">
            <h2><i class="fas fa-bolt"></i> –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
            <div class="city-buttons">
                <a href="/weather?city=Moscow" class="city-btn">
                    <i class="fas fa-building"></i> –ú–æ—Å–∫–≤–∞
                </a>
                <a href="/weather?city=London" class="city-btn">
                    <i class="fas fa-umbrella"></i> –õ–æ–Ω–¥–æ–Ω
                </a>
                <a href="/weather?city=Tokyo" class="city-btn">
                    <i class="fas fa-torii-gate"></i> –¢–æ–∫–∏–æ
                </a>
                <a href="/weather?city=New York" class="city-btn">
                    <i class="fas fa-statue-of-liberty"></i> –ù—å—é-–ô–æ—Ä–∫
                </a>
                <a href="/health" class="city-btn health">
                    <i class="fas fa-heart-pulse"></i> –ü—Ä–æ–≤–µ—Ä–∫–∞
                </a>
            </div>
        </section>

        <section class="api-endpoints">
            <h2><i class="fas fa-satellite-dish"></i> API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã</h2>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <code class="endpoint-url">/weather?city={–Ω–∞–∑–≤–∞–Ω–∏–µ}</code>
                </div>
                <p class="endpoint-desc">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞</p>
                <div class="example">
                    <strong>–ü—Ä–∏–º–µ—Ä:</strong>
                    <code><a href="/weather?city=Moscow" class="example-link">/weather?city=Moscow</a></code>
                </div>
                <div class="try-it">
                    <input type="text" id="cityInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥" value="Moscow">
                    <button onclick="tryEndpoint()" class="try-btn">
                        <i class="fas fa-play"></i> –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <code class="endpoint-url">/health</code>
                </div>
                <p class="endpoint-desc">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞</p>
                <div class="example">
                    <strong>–ü—Ä–∏–º–µ—Ä:</strong>
                    <code><a href="/health" class="example-link">/health</a></code>
                </div>
            </div>
        </section>

        <section class="setup">
            <h2><i class="fas fa-cogs"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
            <p>–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ:</p>
            <ol class="setup-steps">
                <li>
                    <i class="fas fa-user-plus"></i>
                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ <a href="https://openweathermap.org/api" target="_blank">OpenWeatherMap</a>
                </li>
                <li>
                    <i class="fas fa-key"></i>
                    –ü–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –∫–ª—é—á
                </li>
                <li>
                    <i class="fas fa-terminal"></i>
                    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
                    <div class="code-block">
                        <code>export OPENWEATHER_API_KEY=–≤–∞—à_–∫–ª—é—á</code>
                        <button onclick="copyCode(this)" class="copy-btn">
                            <i class="far fa-copy"></i>
                        </button>
                    </div>
                </li>
            </ol>
        </section>

        <section class="technologies">
            <h2><i class="fas fa-tools"></i> –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h2>
            <div class="tech-icons">
                <div class="tech">
                    <i class="fab fa-golang"></i>
                    <span>Go</span>
                </div>
                <div class="tech">
                    <i class="fab fa-linux"></i>
                    <span>WSL2</span>
                </div>
                <div class="tech">
                    <i class="fab fa-docker"></i>
                    <span>Docker</span>
                </div>
                <div class="tech">
                    <i class="fab fa-git-alt"></i>
                    <span>Git</span>
                </div>
                <div class="tech">
                    <i class="fas fa-server"></i>
                    <span>Debian</span>
                </div>
            </div>
        </section>

        <footer>
            <div class="response-area">
                <h3><i class="fas fa-code"></i> –û—Ç–≤–µ—Ç API</h3>
                <pre id="apiResponse">{
  "status": "–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!",
  "message": "–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ –∏ –Ω–∞–∂–º–∏—Ç–µ '–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å'"
}</pre>
            </div>
            <p class="footer-text">
                <i class="fas fa-heart"></i> –°–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é Go –∏ WSL
            </p>
        </footer>
    </div>

    <script>
        function tryEndpoint() {
            const city = document.getElementById('cityInput').value || 'Moscow';
            const responseArea = document.getElementById('apiResponse');
            
            responseArea.textContent = "–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ...";
            responseArea.classList.add('loading');
            
            fetch(`/weather?city=${encodeURIComponent(city)}`)
                .then(response => response.json())
                .then(data => {
                    responseArea.textContent = JSON.stringify(data, null, 2);
                    responseArea.classList.remove('loading');
                    responseArea.classList.add('success');
                })
                .catch(error => {
                    responseArea.textContent = `–û—à–∏–±–∫–∞: ${error}`;
                    responseArea.classList.remove('loading');
                    responseArea.classList.add('error');
                });
        }

        function copyCode(button) {
            const code = button.previousElementSibling.textContent;
            navigator.clipboard.writeText(code).then(() => {
                const icon = button.querySelector('i');
                icon.className = 'fas fa-check';
                setTimeout(() => {
                    icon.className = 'far fa-copy';
                }, 2000);
            });
        }

        // –ü—Ä–æ–±—É–µ–º API –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(tryEndpoint, 500);
        });
    </script>
</body>
</html>
